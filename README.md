# 2018_naver_hackertone



# 목적

 2018 naver 해커톤을 참여하면서 마주치게된 여러 문제들이 있습니다. 대부분의 문제들은 nsml을 사용하는 도중 생긴 문제들입니다. 그래서 추후 대회나 혹은 nsml의 사용자들 역시 겪을 문제점이라 생각하고 제가 겪은 문제들과 해결방법들을 공유하기위해서 이 글을 쓰게 되었습니다. 더 나아가서 제가 대회에 참가하면서 작성한 코드역시 공유하여 다음 대회에 많은 경험이 공유 되길 바랍니다.


# 1차 예선 (4월2일 ~9일)
 1차 예선에서는 nsml에 적응 하는 것에 대부분의 시간을 투자하였다. 대표적인 문제점들은 첫번째 원하는 tensorflow 버전을 사용하기 위한 도커 문제, 두번째로 word embbeding을 저장하기위한 nsml save함수 사용법 문제, 마지막으로 submit을 하기 위해서 코드의 전체적인 구성을 맞춰주는 문제이다.
 질문 유사도 문제를 예를 들어서 진행 과정을 서술한다.
 
- 질문 유사도 문제

 질문 유사도 문제를 풀기 위해서 사용한 알고리즘은 [BiMPM](https://arxiv.org/pdf/1702.03814.pdf) 이란 알고리즘으로 이 [github](https://github.com/zhiguowang/BiMPM)의 코드를 기본으로 해서 코드를 수정하여 만들었다. 

 본래 bimpm 코드에서는 word embbeding을 위한 word vector를 사전학습을 먼저 시킨 후 txt파일로 폴더내에 저장해 놓는다. 그리고 main 코드에서 모델을 빌드할 때 이 txt파일을 불러와서 사용하게 된다. 하지만 nsml에서는 코드가 로컬 컴퓨터에서 실행 되는것이 아니라 nsml 서버에서 실행이 된다. 이때 .py file만 서버로 가져가기 때문에 txt파일을 사용 할 수 없게된다. 그래서 필자는 코드가 nsml서버로 보내진 뒤 학습 데이터를 전 처리 할때 word embbeding을 빌드하도록 코드를 수정 하였다. /kin/BiMPM/main_local.py 의 268 ~ 279 line의 코드가 이 과정을 수행한다.
 



----
![testimage](./image/test1.png)


